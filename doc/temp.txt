List<WebLink> orderedDartWebLinkList =
          dartWebLinks.order((m,n) => m.compareTo(n));
  
  Entities<T> selectByFunction(Function f) {
    List<T> filteredList = _entityList.filter(f);
    // need to use reflection to create specific entities based on the concept
    Entities<T> selectedEntities = new Entities.of(_concept);
    filteredList.forEach((e) => selectedEntities.add(e));
    selectedEntities._sourceEntities = this;
    return selectedEntities;
  }

  Entities<T> copy() {
    // need to use reflection to create specific entities based on the concept
    Entities<T> ce = new Entities.of(_concept);
    _entityList.forEach((e) => ce.add(e));
  }
  
  int compareTo(T entity) {
    if (code != null) {
      return _code.compareTo(entity.code);
    }
    var id = getId();
    if (id.count > 0) {
      return id.compareTo(entity.getId());
    }
    throw new Exception('compare to: both code and id are not used.');
  }
  
  /**
   * Compares two ids. If the result is less than 0 then
   * the first id is less than the second, if it is equal to 0 they are
   * equal and if the result is greater than 0 then the first is greater than
   * the second.
   */
  int compareTo(Id other) {
    // to do
      return 0;
  }
  
  T getEntityByPosition(int position) {
    if (position >= 0 && position < count) {
      return _entityList[position];
    } else {
      throw new SearchException('Position must be between 0 and count - 1.');
    }
  }
  
  
  
  